{"ast":null,"code":"import _defineProperty from \"/home/mozammal/Documents/Rhythmic_share/react-tracks-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"/home/mozammal/Documents/Rhythmic_share/react-tracks-client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"/home/mozammal/Documents/Rhythmic_share/react-tracks-client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mozammal/Documents/Rhythmic_share/react-tracks-client/src/components/Auth/Register.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\nmutation($username:String!, $email:String!, $password:String!){\\n\\n  createUser(username: $username, email: $email, password: $password){\\n    user{\\n      username\\n      email\\n    }\\n  }\\n}\\n\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useReducer, useState } from \"react\";\nimport { Mutation } from 'react-apollo';\nimport { gql } from 'apollo-boost';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Gavel from \"@material-ui/icons/Gavel\";\nimport VerifiedUserTwoTone from \"@material-ui/icons/VerifiedUserTwoTone\";\nimport Error from '../Shared/Error';\n\nfunction Transition(props) {\n  return React.createElement(Slide, Object.assign({\n    direction: \"up\"\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }));\n}\n\nvar Register = function Register(_ref) {\n  var classes = _ref.classes,\n      setNewUser = _ref.setNewUser;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      open = _useState8[0],\n      setOpen = _useState8[1];\n\n  var handleSubmit = function handleSubmit(event, createUser) {\n    event.preventDefault();\n    createUser();\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    className: classes.avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(Gavel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  })), React.createElement(Typography, {\n    variant: \"headline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Register\"), React.createElement(Mutation, {\n    mutation: REGISTER_MUTATION,\n    variables: {\n      username: username,\n      email: email,\n      password: password\n    },\n    onCompleted: function onCompleted(data) {\n      console.log({\n        data: data\n      });\n      setOpen(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, function (createUser, _ref2) {\n    var loading = _ref2.loading,\n        error = _ref2.error;\n    return React.createElement(\"form\", {\n      onSubmit: function onSubmit(event) {\n        return handleSubmit(event, createUser);\n      },\n      className: classes.form,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Username\"), React.createElement(Input, {\n      id: \"username\",\n      onChange: function onChange(event) {\n        return setUsername(event.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(FormControl, {\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Input, {\n      id: \"email\",\n      type: \"email\",\n      onChange: function onChange(event) {\n        return setEmail(event.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(FormControl, {\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Input, {\n      id: \"password\",\n      type: \"password\",\n      onChange: function onChange(event) {\n        return setPassword(event.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"secondary\",\n      disabled: loading || !username.trim() || !email.trim() || !password.trim(),\n      className: classes.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, loading ? \"Registering...\" : \"Register\"), React.createElement(Button, {\n      onClick: function onClick() {\n        return setNewUser(false);\n      },\n      color: \"primary\",\n      variant: \"outlined\",\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Previous user?Log in here\"), error && React.createElement(Error, {\n      error: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }));\n  })), React.createElement(Dialog, {\n    open: open,\n    disableBackdropClick: true,\n    TransitionComponent: Transition,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(VerifiedUserTwoTone, {\n    className: classes.icon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), \"New Account\"), React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(DialogContentText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"User Successfully created\")), React.createElement(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: function onClick() {\n      return setNewUser(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Login\"))));\n};\n\nvar REGISTER_MUTATION = gql(_templateObject());\n\nvar styles = function styles(theme) {\n  return {\n    root: _defineProperty({\n      width: \"auto\",\n      display: \"block\",\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3\n    }, theme.breakpoints.up(\"md\"), {\n      width: 400,\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }),\n    paper: {\n      marginTop: theme.spacing.unit * 8,\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      padding: theme.spacing.unit * 2\n    },\n    title: {\n      marginTop: theme.spacing.unit * 2,\n      color: theme.palette.openTitle\n    },\n    avatar: {\n      margin: theme.spacing.unit,\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: \"100%\",\n      marginTop: theme.spacing.unit\n    },\n    submit: {\n      marginTop: theme.spacing.unit * 2,\n      marginBottom: theme.spacing.unit * 2\n    },\n    icon: {\n      padding: \"0px 2px 2px 0px\",\n      verticalAlign: \"middle\",\n      color: \"green\"\n    }\n  };\n};\n\nexport default withStyles(styles)(Register);","map":{"version":3,"sources":["/home/mozammal/Documents/Rhythmic_share/react-tracks-client/src/components/Auth/Register.js"],"names":["React","useReducer","useState","Mutation","gql","withStyles","Typography","Avatar","FormControl","Paper","Input","InputLabel","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","Gavel","VerifiedUserTwoTone","Error","Transition","props","Register","classes","setNewUser","username","setUsername","email","setEmail","password","setPassword","open","setOpen","handleSubmit","event","createUser","preventDefault","root","paper","avatar","REGISTER_MUTATION","data","console","log","loading","error","form","target","value","trim","submit","icon","styles","theme","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","marginTop","flexDirection","alignItems","padding","title","color","palette","openTitle","margin","backgroundColor","secondary","main","marginBottom","verticalAlign"],"mappings":"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","sourcesContent":["import React,{useReducer, useState} from \"react\";\nimport {Mutation} from 'react-apollo';\nimport {gql} from 'apollo-boost';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Gavel from \"@material-ui/icons/Gavel\";\nimport VerifiedUserTwoTone from \"@material-ui/icons/VerifiedUserTwoTone\";\nimport Error from '../Shared/Error'\nfunction Transition(props){\n  return <Slide direction=\"up\" {...props}/>\n}\nconst Register = ({ classes,setNewUser }) => {\n\n  const [username,setUsername] = useState(\"\")\n  const [email,setEmail] = useState(\"\")\n  const [password,setPassword] = useState(\"\")\n  const [open,setOpen] = useState(false)\n\n  const handleSubmit =(event,createUser)=>{\n    event.preventDefault()\n    createUser()\n  }\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <Gavel/>\n        </Avatar>\n        <Typography variant=\"headline\">\n            Register\n        </Typography>\n        <Mutation mutation={REGISTER_MUTATION}\n        variables={{username, email, password}}\n        onCompleted={data =>{\n          console.log({data})\n          setOpen(true)\n        }}\n        >\n          {(createUser,{loading,error})=>{\n            return (\n              <form onSubmit={event=>handleSubmit(event,createUser)} className={classes.form}>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"username\">\n                    Username\n                  </InputLabel>\n                  <Input id=\"username\" onChange={event=>setUsername(event.target.value)}/>\n                </FormControl>\n\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"email\">\n                    Email\n                  </InputLabel>\n                  <Input id=\"email\" type=\"email\" onChange={event=>setEmail(event.target.value)}/>\n                </FormControl>\n\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"password\">\n                    Password\n                  </InputLabel>\n                  <Input id=\"password\" type=\"password\" onChange={event=>setPassword(event.target.value)}/>\n                </FormControl>\n                <Button \n                  type=\"submit\"\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  disabled = {loading||!username.trim()||!email.trim()||!password.trim()}\n                  className={classes.submit}>\n                  {loading? \"Registering...\":\"Register\"}\n                </Button>\n                <Button\n                onClick={()=>setNewUser(false)}\n                color=\"primary\"\n                variant=\"outlined\"\n                fullWidth>\n                  Previous user?Log in here\n                </Button>\n                  {/* error handling */}\n\n                {error && <Error error={error}/>}\n\n              </form>\n             )\n          }}\n        </Mutation> \n\n      </Paper>\n\n      <Dialog \n      open = {open}\n      disableBackdropClick={true}\n      TransitionComponent = {Transition}\n      >\n        <DialogTitle>\n          <VerifiedUserTwoTone className={classes.icon}/>\n          New Account\n        </DialogTitle>\n        <DialogContent>\n        <DialogContentText>\n          User Successfully created\n        </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={()=>setNewUser(false)}\n          >\n            Login\n          </Button>\n        </DialogActions>\n        \n\n      </Dialog>\n    </div>\n  );\n};\n\nconst REGISTER_MUTATION = gql`\n\nmutation($username:String!, $email:String!, $password:String!){\n\n  createUser(username: $username, email: $email, password: $password){\n    user{\n      username\n      email\n    }\n  }\n}\n\n`\n\nconst styles = theme => ({\n  root: {\n    width: \"auto\",\n    display: \"block\",\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(\"md\")]: {\n      width: 400,\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  },\n  paper: {\n    marginTop: theme.spacing.unit * 8,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: theme.spacing.unit * 2\n  },\n  title: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle\n  },\n  avatar: {\n    margin: theme.spacing.unit,\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing.unit\n  },\n  submit: {\n    marginTop: theme.spacing.unit * 2,\n    marginBottom: theme.spacing.unit * 2\n  },\n  icon: {\n    padding: \"0px 2px 2px 0px\",\n    verticalAlign: \"middle\",\n    color: \"green\"\n  }\n});\n\nexport default withStyles(styles)(Register);\n"]},"metadata":{},"sourceType":"module"}